<h1 class="mb-4">Empresas</h1>
<%= search_form_for @q, url: empresas_path, method: :get, class: "mb-3" do |f| %>
  <div class="row g-2">
    <div class="col-md-3">
      <%= f.label :nome_cont, "Nome", class: "form-label" %>
      <%= f.search_field :nome_cont, class: "form-control", placeholder: "Buscar por nome" %>
    </div>
    <div class="col-md-3">
      <%= f.label :tipo_cont, "Tipo", class: "form-label" %>
      <%= f.search_field :tipo_cont, class: "form-control", placeholder: "Buscar por tipo" %>
    </div>
    <div class="col-md-3">
      <%= f.label :cnpj_cont, "CNPJ", class: "form-label" %>
      <%= f.search_field :cnpj_cont, class: "form-control", placeholder: "Buscar por CNPJ" %>
    </div>
    <div class="col-md-3 d-flex align-items-end">
      <%= f.submit "Buscar", class: "btn btn-primary me-2" %>
      <%= link_to "Limpar", empresas_path, class: "btn btn-secondary" %>
    </div>
  </div>
<% end %>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>Nome</th>
      <th>Tipo</th>
      <th>CNPJ</th>
      <th>Porte</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    <% @empresas.each do |empresa| %>
      <tr>
        <td><%= empresa.nome %></td>
        <td><%= empresa.tipo %></td>
        <td><%= empresa.cnpj %></td>
        <td><%= empresa.porte %></td>
        <td>
          <%= link_to "Ver", empresa_path(empresa), class: "btn btn-primary btn-sm" %>
          <%= link_to "Editar", edit_empresa_path(empresa), class: "btn btn-secondary btn-sm ms-1" %>
          <%= link_to "Excluir", empresa_path(empresa), method: :delete, data: { confirm: "Tem certeza?" }, class: "btn btn-danger btn-sm ms-1" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= pagy_bootstrap_nav(@pagy, link_extra: 'class="btn btn-outline-secondary btn-sm mx-1"').html_safe %>
<div class="mt-4">
  <%= link_to "Nova Empresa", new_empresa_path, class: "btn btn-success" %>
</div>
